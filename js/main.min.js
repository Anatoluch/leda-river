$(document).ready(function(){let e=document.querySelector(".js-test"),t=document.querySelector("#js-test-h3"),o=document.querySelector("#js-test-p"),n=document.createElement("h3");n.classList.add("js-ok"),jsOkTextNode=document.createTextNode("Всё OK! Ваш браузер поддерживает JavaScript!"),n.appendChild(jsOkTextNode),e.classList.contains("js-test")&&(t.classList.add("transperent"),o.classList.add("transperent"),setTimeout(function(){t.remove(),e.prepend(n),o.remove()},400),setTimeout(function(){n.classList.add("transperent"),e.classList.add("transperent")},1200),setTimeout(function(){e.remove()},1600)),document.addEventListener("keydown",function(e){if(!e.ctrlKey||85!==e.keyCode&&117!==e.keyCode)return!0;e.preventDefault(),alert("Доступ к исходному коду запрещён!")}),$("#page-nav").onePageNav({currentClass:"active-nav",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(e){}});const s=document.querySelector(".toggle-menu"),c=document.querySelector(".toggle-menu-fixed"),l=document.querySelector(".mobile-menu"),i=document.querySelector("#overlay"),r=document.querySelector(".phone-top-mob"),a=document.body.closest("html");s.addEventListener("click",function(){this.classList.toggle("active"),l.classList.toggle("active"),i.classList.toggle("active"),a.classList.toggle("noscroll")}),c.addEventListener("click",function(){this.classList.toggle("active"),s.classList.toggle("active"),l.classList.toggle("active"),i.classList.toggle("active"),a.classList.toggle("noscroll")}),l.addEventListener("click",function(){this.classList.remove("active"),s.classList.remove("active"),i.classList.remove("active"),a.classList.remove("noscroll")}),r.addEventListener("click",e=>{e.stopPropagation()}),i.addEventListener("click",function(){this.classList.remove("active"),s.classList.remove("active"),l.classList.remove("active"),a.classList.remove("noscroll")});const d=document.querySelector(".gallery-link"),u=document.querySelectorAll(".hide-photo"),m=document.querySelector(".link-1"),h=document.querySelector(".link-2");d&&d.addEventListener("click",function(){for(var e=0;e<u.length;e++)u[e].classList.toggle("photo");m.classList.toggle("link-1-hide"),h.classList.toggle("link-2-show")});const f=document.querySelector(".article-gallery-link"),v=document.querySelectorAll(".hide-article-photo"),p=document.querySelector(".show-link"),y=document.querySelector(".hide-link");f&&f.addEventListener("click",function(){for(var e=0;e<v.length;e++)v[e].classList.toggle("article__photo");p.classList.toggle("show-link-hide"),y.classList.toggle("hide-link-show")}),$(window).scroll(function(){$(this).width()>280&&($(this).scrollTop()>300?$("#back2Top").fadeIn():$("#back2Top").fadeOut())});const g=document.querySelectorAll(".form-input");for(let e of g){const t=e.closest(".form-item-row").querySelector(".fake-placeholder");e.addEventListener("focus",function(){t.classList.add("active-field")}),e.addEventListener("blur",function(){e.value.length>0?t.classList.add("active-field"):t.classList.remove("active-field")})}let L=document.querySelector("#form-comment"),q=document.querySelector(".contacts-form__char-counter");L&&(L.addEventListener("focus",function(){q.classList.remove("transp-count")}),L.addEventListener("blur",function(){q.classList.add("transp-count")}));let b=document.querySelector("#form-char-counter");$(".contact-form textarea").keyup(function(){this.value.length>480?(this.value=this.value.substr(0,480),q.style="color:red; font-weight:700; font-size:16px"):this.value.length<480&&this.value.length>420?q.style="color:orange; font-weight:700; font-size:14px":480==this.value.length?q.style="color:red; font-weight:700; font-size:16px":this.value.length<480&&q.removeAttribute("style")}),$("#form-char-counter").html(480),$("#form-comment").keyup(function(){let e=this.value.length;this.value.length>480&&(this.value=this.value.substr(0,480));let t=480-e;t<=0?$("#form-char-counter").html("0"):$("#form-char-counter").html(t)});let S,k,w,E=document.querySelector(".contact-form"),T=document.querySelectorAll(".contact-form .fake-placeholder"),x=document.querySelector(".form-checkbox"),A=document.querySelector("#form-bot-row"),j=document.querySelector("#question-1-row"),_=document.querySelector("#question-2-row"),z=document.querySelector("#submit-btn"),M=document.querySelector("#reset-btn"),O=document.querySelector("#form-bot-placeholder-1"),C=document.querySelector("#form-bot-placeholder-2"),N=document.querySelector("#question-inp-1"),P=document.querySelector("#question-inp-2"),H=document.querySelector("#form-bot-question-1"),Q=document.querySelector("#form-bot-question-2");x&&x.addEventListener("change",function(e){1==e.target.checked?(S=Math.round(10*Math.random()),k=Math.round(10*Math.random()),w=S+k,N.innerText=`${S} + ${k}?`,A.classList.remove("hidden"),j.classList.remove("hidden"),this.disabled=!0,H.addEventListener("input",function(e){parseInt(e.target.value)===w?(z.disabled=!1,j.classList.add("hidden"),_.classList.remove("hidden"),O.classList.remove("active-field"),H.blur(),Q.focus(),x.disabled=!0):z.disabled=!0})):(A.classList.add("hidden"),j.classList.add("hidden"),_.classList.add("hidden"))}),P&&(P.innerText="России?"),Q&&Q.addEventListener("input",function(e){"москва"===e.target.value.toLowerCase()?(z.disabled=!1,A.classList.add("hidden"),E.setAttribute("method","POST"),E.setAttribute("action","./php/mail.php"),_.classList.add("hidden"),C.classList.remove("active-field"),Q.blur()):z.disabled=!0}),H&&H.addEventListener("input",function(){this.value=this.value.replace(/[^+0-9]/g,"")}),Q&&Q.addEventListener("input",function(){this.value=this.value.replace(/[^А-Яа-я-]/g,"")}),M&&M.addEventListener("click",function(){x.disabled=!1,T.forEach(function(e){e.classList.remove("active-field")}),A.classList.add("hidden"),j.classList.add("hidden"),_.classList.add("hidden"),q.removeAttribute("style"),b.innerText=480,E.removeAttribute("method","POST"),E.removeAttribute("action","./php/mail.php"),this.blur(),document.querySelectorAll(".contact-form label.error").forEach(function(e){e.style="display:none"})}),$(".contact-form")&&$(".contact-form").validate({rules:{userName:{required:!0,minlength:2},email:{required:!0,email:!0},subject:{required:!1},message:{required:!0},checkbox:{required:!0},botQuestion1:{required:!0,minlength:1,maxlength:2},botQuestion2:{required:!0,minlength:1,maxlength:6}},messages:{userName:{required:"А как к Вам обращаться?!",minlength:"Ошибка ввода!"},email:{required:"Обязательно укажите Ваш email!",email:"Введен некорректный адрес электронной почты!"},subject:{required:"Тема сообщения не указана!"},message:{required:"А где, собственно, текст Вашего сообщения?!"},checkbox:{required:"Чтобы отправить сообщение, нужно принять политику конфиденциальности!"},botQuestion1:{required:"Обязательное поле!",minlength:"Ошибка ввода!",maxlength:"Ошибка ввода!"},botQuestion2:{required:"Обязательное поле!",minlength:"Ошибка ввода!",maxlength:"Ошибка ввода!"}},submitHandler:function(e){!function(){let e=$(".contact-form").serialize();$.ajax({type:"POST",url:"php/mail.php",data:e,success:function(e){$(".contact-form").slideUp(800),$("#answer").html(e)}})}()}}),$("#back2Top").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1});const B=document.querySelectorAll(".top-phone-img");for(let e=0;e<B.length;e++)B[e].addEventListener("click",function(){this.style="display: none",this.insertAdjacentHTML("afterend",'<a href="tel:+79181639644"> +7(918) 163 96 44</a>')});$("#phone").click(function(){$("#phone").html('<a href="tel:+79181639644">+7(918) 163 96 44</a>')});const D=document.querySelector(".map-overlay"),I=document.querySelector(".fake-map"),K=document.querySelector(".map-holder-mob"),W=document.querySelector(".map-holder-pc");D&&D.addEventListener("click",function(){I.classList.add("hide"),K.classList.add("show-mob"),W.classList.add("show-pc")});const J=document.querySelector(".map-overlay-tab"),U=document.querySelector(".fake-map-tab"),X=document.querySelector(".map-holder-tab");J&&J.addEventListener("click",function(){U.classList.add("hide"),X.classList.add("show-tab")});let Y=document.querySelector(".yacht__content"),F=document.querySelectorAll(".leda"),G=document.querySelectorAll(".sea"),R=document.querySelectorAll(".sky");if(Y&&Y.addEventListener("mousemove",function(e){let t=e.clientX/window.innerWidth,o=e.clientY/window.innerHeight;for(let e of F)e.style.transform="translate(-"+25*t+"px, -"+18*o+"px)";for(let e of G)e.style.transform="translate(-"+28*t+"px, -"+23*o+"px)";for(let e of R)e.style.transform="translate(-"+0*t+"px, -"+23*o+"px)"}),document.documentElement.clientWidth<1200){function V(){let e=document.querySelector(".__jivoMobileButton");e&&(e.style.zoom="0.8",e.style.opacity="0.7")}setTimeout(V,900),window.addEventListener("resize",function(){let e=document.querySelector(".__jivoMobileButton");function t(){e&&(e.style.zoom="0.8",e.style.opacity="0.7")}setTimeout(t,200),setTimeout(t,400),setTimeout(t,1e3)}),setTimeout(V,1e3),setTimeout(V,1500),setTimeout(V,4e3),setTimeout(V,7e3)}});