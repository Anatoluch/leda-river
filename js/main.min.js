$(document).ready(function(){function a(){return D=Math.round(10*Math.random()),E=Math.round(10*Math.random()),F=D+E,F}function b(){let a=$(".contact-form").serialize();return $.ajax({type:"POST",url:"php/mail.php",data:a,success:function(a){$(".contact-form").slideUp(800),$("#answer").html(a)}}),!1}let c=document.querySelector(".js-test"),d=document.querySelector("#js-test-h3"),e=document.querySelector("#js-test-p"),f=document.createElement("h3");f.classList.add("js-ok"),jsOkTextNode=document.createTextNode("\u0412\u0441\u0451 OK! \u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 JavaScript!"),f.appendChild(jsOkTextNode),c.classList.contains("js-test")&&(d.classList.add("transperent"),e.classList.add("transperent"),setTimeout(function(){d.remove(),c.prepend(f),e.remove()},400),setTimeout(function(){f.classList.add("transperent"),c.classList.add("transperent")},1200),setTimeout(function(){c.remove()},1600));let g=document.querySelectorAll(".social-icons__link.insta"),h=document.querySelectorAll(".header-social__icon.insta-h-a");g.forEach(function(a){a.href="#!",a.removeAttribute("target"),a.setAttribute("title","Instagram \u043F\u0440\u0438\u0437\u043D\u0430\u043D \u044D\u043A\u0441\u0442\u0440\u0435\u043C\u0438\u0441\u0442\u0441\u043A\u043E\u0439 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u043D\u0430 \u0442\u0435\u0440\u0440\u0438\u0442\u043E\u0440\u0438\u0438 \u0420\u0424!")}),h.forEach(function(a){a.href="#!",a.removeAttribute("target"),a.setAttribute("title","Instagram \u043F\u0440\u0438\u0437\u043D\u0430\u043D \u044D\u043A\u0441\u0442\u0440\u0435\u043C\u0438\u0441\u0442\u0441\u043A\u043E\u0439 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u043D\u0430 \u0442\u0435\u0440\u0440\u0438\u0442\u043E\u0440\u0438\u0438 \u0420\u0424!")}),document.addEventListener("keydown",function(a){return!(a.ctrlKey&&(85===a.keyCode||117===a.keyCode))||void(a.preventDefault(),alert("\u0414\u043E\u0441\u0442\u0443\u043F \u043A \u0438\u0441\u0445\u043E\u0434\u043D\u043E\u043C\u0443 \u043A\u043E\u0434\u0443 \u0437\u0430\u043F\u0440\u0435\u0449\u0451\u043D!"))}),$("#page-nav").onePageNav({currentClass:"active-nav",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(){}});const i=document.querySelector(".toggle-menu"),j=document.querySelector(".toggle-menu-fixed"),k=document.querySelector(".mobile-menu"),l=document.querySelector("#overlay"),m=document.querySelector(".phone-top-mob"),n=document.body.closest("html");i.addEventListener("click",function(){this.classList.toggle("active"),k.classList.toggle("active"),l.classList.toggle("active"),n.classList.toggle("noscroll")}),j.addEventListener("click",function(){this.classList.toggle("active"),i.classList.toggle("active"),k.classList.toggle("active"),l.classList.toggle("active"),n.classList.toggle("noscroll")}),k.addEventListener("click",function(){this.classList.remove("active"),i.classList.remove("active"),l.classList.remove("active"),n.classList.remove("noscroll")}),m.addEventListener("click",a=>{a.stopPropagation()}),l.addEventListener("click",function(){this.classList.remove("active"),i.classList.remove("active"),k.classList.remove("active"),n.classList.remove("noscroll")});const o=document.querySelector(".gallery-link"),p=document.querySelectorAll(".hide-photo"),q=document.querySelector(".link-1"),r=document.querySelector(".link-2");o&&o.addEventListener("click",function(){for(var a=0;a<p.length;a++)p[a].classList.toggle("photo");q.classList.toggle("link-1-hide"),r.classList.toggle("link-2-show")});const s=document.querySelector(".article-gallery-link"),t=document.querySelectorAll(".hide-article-photo"),u=document.querySelector(".show-link"),v=document.querySelector(".hide-link");s&&s.addEventListener("click",function(){for(var a=0;a<t.length;a++)t[a].classList.toggle("article__photo");u.classList.toggle("show-link-hide"),v.classList.toggle("hide-link-show")}),$(window).scroll(function(){280<$(this).width()&&(300<$(this).scrollTop()?$("#back2Top").fadeIn():$("#back2Top").fadeOut())});const w=document.querySelectorAll(".form-input");for(let a of w){const b=a.closest(".form-item-row"),c=b.querySelector(".fake-placeholder");a.addEventListener("focus",function(){c.classList.add("active-field")}),a.addEventListener("blur",function(){0<a.value.length?c.classList.add("active-field"):c.classList.remove("active-field")})}let z=document.querySelector("#form-comment"),A=document.querySelector(".contacts-form__char-counter");z&&(z.addEventListener("focus",function(){A.classList.remove("transp-count")}),z.addEventListener("blur",function(){A.classList.add("transp-count")}));let B=360,C=document.querySelector("#form-char-counter");$(".contact-form textarea").keyup(function(){this.value.length>B?(this.value=this.value.substr(0,B),A.style="color:red; font-weight:700; font-size:14px"):this.value.length==B?A.style="color:red; font-weight:700; font-size:14px":this.value.length<B&&A.removeAttribute("style")}),$("#form-char-counter").html(360),$("#form-comment").keyup(function(){let a=this.value.length;this.value.length>B&&(this.value=this.value.substr(0,B));let b=B-a;0>=b?$("#form-char-counter").html("0"):$("#form-char-counter").html(b)});let D,E,F,G=document.querySelector(".contact-form"),H=document.querySelectorAll(".contact-form .fake-placeholder"),I=document.querySelector(".form-checkbox"),J=document.querySelector("#form-bot-row"),K=document.querySelector("#question-1-row"),L=document.querySelector("#question-2-row"),M=document.querySelector("#submit-btn"),N=document.querySelector("#reset-btn"),O=document.querySelector("#form-bot-placeholder-1"),P=document.querySelector("#form-bot-placeholder-2"),Q=document.querySelector("#question-inp-1"),R=document.querySelector("#question-inp-2"),S=document.querySelector("#form-bot-question-1"),T=document.querySelector("#form-bot-question-2");I&&I.addEventListener("change",function(b){!0==b.target.checked?(a(),Q.innerText=`${D} + ${E}?`,J.classList.remove("hidden"),K.classList.remove("hidden"),this.disabled=!0,S.addEventListener("input",function(a){let b=parseInt(a.target.value);return b===F?void(M.disabled=!1,K.classList.add("hidden"),L.classList.remove("hidden"),O.classList.remove("active-field"),S.blur(),T.focus(),I.disabled=!0):void(M.disabled=!0)})):(J.classList.add("hidden"),K.classList.add("hidden"),L.classList.add("hidden"))}),R&&(R.innerText=`России?`),T&&T.addEventListener("input",function(a){let b=a.target.value.toLowerCase();"\u043C\u043E\u0441\u043A\u0432\u0430"===b?(M.disabled=!1,J.classList.add("hidden"),G.setAttribute("method","POST"),G.setAttribute("action","./php/mail.php"),L.classList.add("hidden"),P.classList.remove("active-field"),T.blur()):M.disabled=!0}),S&&S.addEventListener("input",function(){this.value=this.value.replace(/[^+0-9]/g,"")}),T&&T.addEventListener("input",function(){this.value=this.value.replace(/[^А-Яа-я-]/g,"")}),N&&N.addEventListener("click",function(){I.disabled=!1,H.forEach(function(a){a.classList.remove("active-field")}),J.classList.add("hidden"),K.classList.add("hidden"),L.classList.add("hidden"),C.innerText=B,G.removeAttribute("method","POST"),G.removeAttribute("action","./php/mail.php"),this.blur()}),$(".contact-form").validate({rules:{userName:{required:!0,minlength:2},email:{required:!0,email:!0},subject:{required:!1},message:{required:!0},checkbox:{required:!0},botQuestion1:{required:!0,minlength:1,maxlength:2},botQuestion2:{required:!0,minlength:1,maxlength:6}},messages:{userName:{required:"\u0410 \u043A\u0430\u043A \u043A \u0412\u0430\u043C \u043E\u0431\u0440\u0430\u0449\u0430\u0442\u044C\u0441\u044F?!",minlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!"},email:{required:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0443\u043A\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448 email!",email:"\u0412\u0432\u0435\u0434\u0435\u043D \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B!"},subject:{required:"\u0422\u0435\u043C\u0430 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430!"},message:{required:"\u0410 \u0433\u0434\u0435, \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E, \u0442\u0435\u043A\u0441\u0442 \u0412\u0430\u0448\u0435\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F?!"},checkbox:{required:"\u0427\u0442\u043E\u0431\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043D\u0443\u0436\u043D\u043E \u043F\u0440\u0438\u043D\u044F\u0442\u044C \u043F\u043E\u043B\u0438\u0442\u0438\u043A\u0443 \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438!"},botQuestion1:{required:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!",minlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!",maxlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!"},botQuestion2:{required:"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!",minlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!",maxlength:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0432\u043E\u0434\u0430!"}},submitHandler:function(){b()}}),$("#back2Top").click(function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1});const U=document.querySelectorAll(".top-phone-img");for(let a=0;a<U.length;a++)U[a].addEventListener("click",function(){this.style="display: none",this.insertAdjacentHTML("afterend","<a href=\"tel:+79181639644\"> +7(918) 163 96 44</a>")});$("#phone").click(function(){$("#phone").html("<a href=\"tel:+79181639644\">+7(918) 163 96 44</a>")});const V=document.querySelector(".map-overlay"),W=document.querySelector(".fake-map"),X=document.querySelector(".map-holder-mob"),Y=document.querySelector(".map-holder-pc");V&&V.addEventListener("click",function(){W.classList.add("hide"),X.classList.add("show-mob"),Y.classList.add("show-pc")});const Z=document.querySelector(".map-overlay-tab"),_=document.querySelector(".fake-map-tab"),aa=document.querySelector(".map-holder-tab");Z&&Z.addEventListener("click",function(){_.classList.add("hide"),aa.classList.add("show-tab")});let ba=document.querySelector(".yacht__content"),ca=document.querySelectorAll(".leda"),da=document.querySelectorAll(".sea"),ea=document.querySelectorAll(".sky");if(ba&&ba.addEventListener("mousemove",function(a){let b=a.clientX/window.innerWidth,c=a.clientY/window.innerHeight;for(let d of ca)d.style.transform="translate(-"+25*b+"px, -"+18*c+"px)";for(let d of da)d.style.transform="translate(-"+28*b+"px, -"+23*c+"px)";for(let d of ea)d.style.transform="translate(-"+0*b+"px, -"+23*c+"px)"}),1200>document.documentElement.clientWidth){function a(){let a=document.querySelector(".__jivoMobileButton");a&&a.hasAttribute("style")&&a.removeAttribute("style")}setTimeout(a,900),window.addEventListener("resize",function(){function a(){b&&b.hasAttribute("style")&&b.removeAttribute("style")}let b=document.querySelector(".__jivoMobileButton");setTimeout(a,200),setTimeout(a,400)}),setTimeout(a,1e3),setTimeout(a,1200)}});