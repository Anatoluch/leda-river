$(document).ready(function(){let e=document.querySelector(".js-test"),t=document.querySelector("#js-test-h3"),o=document.querySelector("#js-test-p"),n=document.createElement("h3");n.classList.add("js-ok"),jsOkTextNode=document.createTextNode("Всё OK! Ваш браузер поддерживает JavaScript!"),n.appendChild(jsOkTextNode),e.classList.contains("js-test")&&(t.classList.add("transperent"),o.classList.add("transperent"),setTimeout(function(){t.remove(),e.prepend(n),o.remove()},400),setTimeout(function(){n.classList.add("transperent"),e.classList.add("transperent")},1200),setTimeout(function(){e.remove()},1600)),$(window).scroll(function(){$(window).scrollTop()>360&&$(window).scrollTop()<770?$("#nav-wrapper").fadeIn(900):$(window).scrollTop()>=770?($("#nav-wrapper-pc").fadeIn(900),$("#nav-wrapper").fadeIn(900)):($("#nav-wrapper").fadeOut(150),$("#nav-wrapper-pc").fadeOut(150))}),$("#page-nav").onePageNav({currentClass:"active-nav",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(e){}});const c=document.querySelector(".toggle-menu"),r=document.querySelector(".toggle-menu-fixed"),l=document.querySelector(".mobile-menu"),i=document.querySelector("#overlay"),s=document.querySelector(".phone-top-mob"),a=document.body.closest("html");function u(){l.classList.toggle("active"),i.classList.toggle("active"),a.classList.toggle("noscroll")}function d(){c.classList.remove("active"),a.classList.remove("noscroll")}if(c.addEventListener("click",function(){this.classList.toggle("active"),u()}),r.addEventListener("click",function(){this.classList.toggle("active"),c.classList.toggle("active"),u()}),l.addEventListener("click",function(){this.classList.remove("active"),d(),i.classList.remove("active")}),s.addEventListener("click",e=>{e.stopPropagation()}),i.addEventListener("click",function(){this.classList.remove("active"),d(),l.classList.remove("active")}),document.querySelector(".gallery-link")){const e=document.querySelector(".gallery-link"),t=document.querySelectorAll(".hide-photo"),o=document.querySelector(".link-1"),n=document.querySelector(".link-2");e.addEventListener("click",function(){t.forEach(function(e){e.classList.toggle("photo")}),o.classList.toggle("link-1-hide"),n.classList.toggle("link-2-show")})}if(document.querySelector(".article-gallery-link")){const e=document.querySelector(".article-gallery-link"),t=document.querySelectorAll(".hide-article-photo"),o=document.querySelector(".show-link"),n=document.querySelector(".hide-link");e.addEventListener("click",function(){t.forEach(function(e){e.classList.toggle("article__photo")}),o.classList.toggle("show-link-hide"),n.classList.toggle("hide-link-show")})}if($(window).scroll(function(){$(this).width()>280&&($(this).scrollTop()>300?$("#back2Top").fadeIn():$("#back2Top").fadeOut())}),$("#back2Top").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1}),document.querySelectorAll(".phone-img").forEach(function(e){e.addEventListener("click",function(){this.style="display: none",this.insertAdjacentHTML("afterend",'<a href="tel:+79181639644"> +7(918) 163 96 44</a>')})}),document.querySelector(".map-overlay")){const e=document.querySelector(".map-overlay"),t=document.querySelector(".fake-map"),o=document.querySelector(".map-holder-mob"),n=document.querySelector(".map-holder-pc");e.addEventListener("click",function(){t.classList.add("hide"),o&&o.classList.add("show-mob"),n&&n.classList.add("show-pc")})}if(document.querySelector(".map-overlay-tab")){const e=document.querySelector(".map-overlay-tab"),t=document.querySelector(".fake-map-tab"),o=document.querySelector(".map-holder-tab");e.addEventListener("click",function(){t.classList.add("hide"),o.classList.add("show-tab")})}if(document.querySelector(".yacht__content")){let e=document.querySelector(".yacht__content"),t=document.querySelectorAll(".leda"),o=document.querySelectorAll(".sea"),n=document.querySelectorAll(".sky");e.addEventListener("mousemove",function(e){let c=e.clientX/window.innerWidth,r=e.clientY/window.innerHeight;for(let e of t)e.style.transform="translate(-"+25*c+"px, -"+18*r+"px)";for(let e of o)e.style.transform="translate(-"+28*c+"px, -"+23*r+"px)";for(let e of n)e.style.transform="translate(-"+0*c+"px, -"+23*r+"px)"})}if(document.querySelector(".contact-form")||document.querySelector(".reviews-page__form")){const e=document.querySelectorAll(".form-input");for(let t of e){const e=t.closest(".form-item-row").querySelector(".fake-placeholder");t.addEventListener("focus",function(){e.classList.add("active-field")}),t.addEventListener("blur",function(){t.value.length>0?e.classList.add("active-field"):e.classList.remove("active-field")})}let t=document.querySelector("#form-comment"),o=document.querySelector(".contacts-form__char-counter");function m(){o.classList.toggle("transp-count")}t&&(t.addEventListener("focus",function(){m()}),t.addEventListener("blur",function(){m()}));let n=480,c=document.querySelector("#form-char-counter");$(".contact-form textarea").keyup(function(){this.value.length>n?(this.value=this.value.substr(0,n),o.style="color:red; font-weight:700; font-size:16px"):this.value.length<450&&this.value.length>400?o.style="color:orange; font-weight:700; font-size:14px":this.value.length<n&&this.value.length>=450?o.style="color:red; font-weight:700; font-size:14px":this.value.length==n?o.style="color:red; font-weight:700; font-size:16px":this.value.length<n&&o.hasAttribute("style")&&o.removeAttribute("style")}),$("#form-char-counter").html(n),$("#form-comment").keyup(function(){let e=this.value.length;this.value.length>n&&(this.value=this.value.substr(0,n));let t=n-e;t<=0?$("#form-char-counter").html("0"):$("#form-char-counter").html(t)});let r,l,i,s=document.querySelector(".contact-form"),a=document.querySelectorAll(".contact-form .fake-placeholder"),u=document.querySelector(".form-checkbox"),d=document.querySelector("#form-bot-row"),p=document.querySelector("#form-bot-placeholder-1"),y=document.querySelector("#question-1-row"),g=document.querySelector("#form-bot-question-1"),q=document.querySelector("#question-inp-1"),L=document.querySelector("#form-bot-placeholder-2"),S=document.querySelector("#question-2-row"),b=document.querySelector("#form-bot-question-2"),w=document.querySelector("#question-inp-2"),k="России?",E=document.querySelector("#submit-btn"),x=document.querySelector("#reset-btn");function h(){d.classList.add("hidden"),y.classList.add("hidden"),S.classList.add("hidden")}function f(){E.disabled=!0}function v(){E.disabled=!1}u&&u.addEventListener("change",function(e){1==e.target.checked?(r=Math.round(10*Math.random()),l=Math.round(10*Math.random()),i=r+l,q.innerText=`${r} + ${l}?`,d.classList.remove("hidden"),y.classList.remove("hidden"),this.disabled=!0,g.addEventListener("input",function(e){parseInt(e.target.value)===i?(f(),y.classList.add("hidden"),S.classList.remove("hidden"),p.classList.remove("active-field"),g.blur(),b.focus(),u.disabled=!0):f()})):h()}),w&&(w.innerText=k),b&&b.addEventListener("input",function(e){"москва"===e.target.value.toLowerCase()?(v(),d.classList.add("hidden"),s.setAttribute("method","POST"),s.setAttribute("action","./php/mail.php"),S.classList.add("hidden"),L.classList.remove("active-field"),b.blur()):f()}),g&&g.addEventListener("input",function(){this.value=this.value.replace(/[^+0-9]/g,"")}),b&&b.addEventListener("input",function(){this.value=this.value.replace(/[^А-Яа-я-]/g,"")}),x&&x.addEventListener("click",function(){u.disabled=!1,v(),a.forEach(function(e){e.classList.remove("active-field")}),h(),o.removeAttribute("style"),c.innerText=n,s.removeAttribute("method","POST"),s.removeAttribute("action","./php/mail.php"),this.blur(),document.querySelectorAll(".contact-form label.error").forEach(function(e){e.style="display:none"})}),$(".contact-form")&&$(".contact-form").validate({rules:{userName:{required:!0,minlength:2},email:{required:!0,email:!0},subject:{required:!1},message:{required:!0},checkbox:{required:!0},botQuestion1:{required:!0,minlength:1,maxlength:2},botQuestion2:{required:!0,minlength:1,maxlength:6}},messages:{userName:{required:"А как к Вам обращаться?!",minlength:"Ошибка ввода!"},email:{required:"Обязательно укажите Ваш email!",email:"Введен некорректный адрес электронной почты!"},subject:{required:"Тема сообщения не указана!"},message:{required:"А где, собственно, текст Вашего сообщения?!"},checkbox:{required:"Чтобы отправить сообщение, нужно принять политику конфиденциальности!"},botQuestion1:{required:"Обязательное поле!",minlength:"Ошибка ввода!",maxlength:"Ошибка ввода!"},botQuestion2:{required:"Обязательное поле!",minlength:"Ошибка ввода!",maxlength:"Ошибка ввода!"}},submitHandler:function(e){!function(){let e=$(".contact-form").serialize();$.ajax({type:"POST",url:"php/mail.php",data:e,success:function(e){$(".contact-form").slideUp(800),$("#answer").html(e)}})}()}})}}),document.querySelector(".video-bg")&&document.documentElement.clientWidth>=1183&&$(window).on("load",function(){$(".video-bg").vide("./video/cover",{bgColor:"#5F9EA0"})});